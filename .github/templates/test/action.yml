name: Docker test

inputs:
  image:
    description: "the image to be tested"
    required: true
  service:
    description: "the service being tested"
    required: true

runs: 
  using: "composite"
  steps:
    - name: Setup tmate session
      uses: mxschmitt/action-tmate@v3

    - run: ${{ github.action_path }}/test_image.sh
      shell: bash
      env:
        IMAGE: ${{ inputs.image }}
        SERVICE: ${{ inputs.service }}
