name: Docker test

inputs:
  module:
    description: "the module to be enabled"
    required: true
  service:
    description: "the service being tested"
    required: true
  source_branch:
    description: "the source branch"
    required: true

runs: 
  using: "composite"
  steps:
    - run: ${{ github.action_path }}/test_image.sh
      if: contains(["interfacing", "perception", "world_modeling", "action", "samples"], inputs.module)
      shell: bash
      env:
        TAG: build_${{ inputs.source_branch }}
        ACTIVE_MODULES: ${{ inputs.module }}
        SERVICE: ${{ inputs.service }}
