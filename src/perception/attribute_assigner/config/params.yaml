---
attribute_assigner_node:
  ros__parameters:
    # Image topic (same camera frame as detections; used for cropping and color/signal detection)
    image_topic: "input_image"
    sync_queue_size: 10   # ApproximateTime sync queue size for image + detections

    # Class ID mappings (YOLOv8 COCO: 9=traffic_light, 2=car, 7=truck, 5=bus)
    traffic_light_class_ids: ["traffic_light", "9"]
    car_class_ids: ["car", "2", "truck", "7", "bus", "5"]

    # Minimum detection confidence to process (detections below this are passed through unchanged)
    min_detection_confidence: 0.3

    # Traffic light: HSV thresholds for "lit" region (S and V in 0-255)
    traffic_light_min_saturation: 60.0
    traffic_light_min_value: 80.0

    # Car: brake light (red) and amber (turn/hazard) detection thresholds
    car_brake_min_red: 140.0
    car_brake_min_brightness: 90.0
    car_amber_hue_lo: 12.0
    car_amber_hue_hi: 35.0
    car_amber_min_saturation: 80.0
    car_amber_min_value: 100.0

    # QoS Configuration
    # Subscriber QoS: best_effort for low-latency detection data
    qos_subscriber_reliability: "best_effort"  # Options: "reliable", "best_effort"
    qos_subscriber_depth: 10                   # Queue depth for incoming messages

    # Publisher QoS: reliable + transient_local for immediate availability
    # Transient local ensures late-joining subscribers receive the latest
    # enriched detections immediately
    qos_publisher_reliability: "reliable"        # Options: "reliable", "best_effort"
    qos_publisher_durability: "transient_local"  # Options: "transient_local", "volatile"
    qos_publisher_depth: 10                      # Queue depth for outgoing messages
